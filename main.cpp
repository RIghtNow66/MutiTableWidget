#include <QtWidgets/QApplication>
#include "PaginatedDataTable.h"

// 包含所有具体的表格子类
#include "RealtimeDataTable.h"
#include "FaultyStatusTable.h"
#include "CombinedStateTable.h"

int main(int argc, char *argv[])
{
    QApplication app(argc, argv);
    
    auto table = new RealtimeDataTable();

    PaginatedDataTable window(table);
    window.resize(800, 600);
    window.setWindowTitle("实时数据表格");

    //// 填充测试数据（示例）
    //QVector<QVector<QString>> statusData = {
    //{"集装箱1", "分系统1", "0", "2025-08-22 10:01:12", "00:15:23"},
    //{"集装箱1", "分系统2", "0", "2025-08-22 10:03:45", "00:10:11"},
    //{"集装箱1", "分系统3", "0", "2025-08-22 09:58:30", "00:20:35"},   // 异常 >520
    //{"集装箱1", "分系统4", "0", "2025-08-22 10:05:50", "00:08:42"},
    //{"集装箱1", "分系统5", "0", "2025-08-22 10:02:22", "00:12:10"},
    //{"集装箱1", "分系统6", "0", "2025-08-22 09:55:10", "00:25:05"},
    //{"集装箱1", "分系统7", "0", "2025-08-22 10:07:15", "00:07:40"},
    //{"集装箱1", "分系统8", "0", "2025-08-22 10:09:03", "00:06:25"},
    //{"集装箱1", "分系统9", "0", "2025-08-22 09:50:40", "00:30:50"},   // 异常 <0
    //{"集装箱1", "分系统10", "1", "2025-08-22 10:04:55", "00:09:33"},
    //{"集装箱1", "分系统11", "1", "2025-08-22 10:06:48", "00:08:05"},
    //{"集装箱1", "分系统12", "0", "2025-08-22 10:08:22", "00:06:50"},
    //{"集装箱1", "分系统13", "0", "2025-08-22 10:01:40", "00:14:15"},
    //{"集装箱1", "分系统14", "0", "2025-08-22 09:59:55", "00:18:30"},
    //{"集装箱1", "分系统15", "0", "2025-08-22 10:03:10", "00:11:45"},
    //{"集装箱1", "分系统16", "0", "2025-08-22 10:04:22", "00:09:55"},
    //{"集装箱1", "分系统17", "0", "2025-08-22 10:05:35", "00:08:35"},
    //{"集装箱1", "分系统18", "0", "2025-08-22 10:06:50", "00:07:55"},
    ////{"集装箱1", "分系统19", "0", "2025-08-22 09:57:20", "00:21:10"},
    ////{"集装箱1", "分系统20", "0", "2025-08-22 10:03:40", "00:11:20"},
    ////{"集装箱1", "分系统21", "1", "2025-08-22 10:08:55", "00:06:40"},
    ////{"集装箱1", "分系统22", "0", "2025-08-22 09:55:50", "00:24:40"},   // 异常 = 边界
    ////{"集装箱1", "分系统23", "1", "2025-08-22 10:01:10", "00:14:50"},
    ////{"集装箱1", "分系统24", "0", "2025-08-22 10:05:25", "00:09:10"},
    ////{"集装箱1", "分系统25", "0", "2025-08-22 10:07:45", "00:07:35"},
    ////{"集装箱1", "分系统26", "0", "2025-08-22 10:09:15", "00:06:10"},
    ////{"集装箱1", "分系统27", "0", "2025-08-22 09:58:40", "00:19:55"},
    ////{"集装箱1", "分系统28", "0", "2025-08-22 10:02:55", "00:12:25"},
    ////{"集装箱1", "分系统29", "0", "2025-08-22 10:04:40", "00:09:45"},
    //{"集装箱1", "分系统30", "0", "2025-08-22 10:06:20", "00:08:20"}
    //};

    //QStringList header = {
    //"设备位置",
    //"设备名称",
    //"当前状态",
    //"发生时间",
    //"持续时间",
    //};

    QVector<QVector<QString>> data = {
   {"集装箱1", "分系统1有功功率", "450.000", "kW"},
   {"集装箱1", "分系统2有功功率", "380.000", "kW"},
   {"集装箱1", "分系统3有功功率", "510.000", "kW"},   // 异常 >520
   {"集装箱1", "分系统4有功功率", "300.000", "kW"},
   {"集装箱1", "分系统5有功功率", "420.000", "kW"},
   {"集装箱1", "分系统6有功功率", "250.000", "kW"},
   {"集装箱1", "分系统7有功功率", "470.000", "kW"},
   {"集装箱1", "分系统8有功功率", "495.000", "kW"},
   {"集装箱1", "分系统9有功功率", "-15.000", "kW"},   // 异常 <0
   {"集装箱1", "分系统10有功功率", "360.000", "kW"},
   {"集装箱1", "分系统11有功功率", "280.000", "kW"},
   {"集装箱1", "分系统12有功功率", "460.000", "kW"},
   {"集装箱1", "分系统13有功功率", "500.000", "kW"},
   {"集装箱1", "分系统14有功功率", "230.000", "kW"},
   {"集装箱1", "分系统15有功功率", "390.000", "kW"},
   {"集装箱1", "分系统16有功功率", "410.000", "kW"},
   {"集装箱1", "分系统17有功功率", "440.000", "kW"},
   {"集装箱1", "分系统18有功功率", "335.000", "kW"},
   {"集装箱1", "分系统19有功功率", "280.000", "kW"},
   {"集装箱1", "分系统20有功功率", "370.000", "kW"},
   {"集装箱1", "分系统21有功功率", "490.000", "kW"},
   {"集装箱1", "分系统22有功功率", "520.000", "kW"},   // 异常 = 边界
   {"集装箱1", "分系统23有功功率", "310.000", "kW"},
   {"集装箱1", "分系统24有功功率", "450.000", "kW"},
   {"集装箱1", "分系统25有功功率", "295.000", "kW"},
   {"集装箱1", "分系统26有功功率", "405.000", "kW"},
   {"集装箱1", "分系统27有功功率", "375.000", "kW"},
   {"集装箱1", "分系统28有功功率", "460.000", "kW"},
   {"集装箱1", "分系统29有功功率", "330.000", "kW"},
   {"集装箱1", "分系统30有功功率", "415.000", "kW"}
    };

    QStringList header = {
    "设备名称",
    "数据名称",
    "值",
    "单位"
    };

    window.setData(data, header);
    window.show();

    return app.exec();
}
